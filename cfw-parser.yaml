parsers:
  - reg: ^.*$ 
    code: |
      module.exports.parse = (raw, { yaml }) => {
        const rawObj = yaml.parse(raw)
        const groups = []
        const rules = []
        return yaml.stringify({ ...rawObj, 'proxy-groups': groups, rules })
      } 
    yaml:
      prepend-proxy-groups:
      - name: ğŸš€SELECT
        type: select
        proxies:
         - â™»ï¸URL-TEST
         - âš–FALL-BACK
         - DIRECT
         - ğŸ‡­ğŸ‡°é¦™æ¸¯
         - ğŸ‡¨ğŸ‡³å°æ¹¾
         - ğŸ‡¯ğŸ‡µæ—¥æœ¬
         - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
         - ğŸ‡°ğŸ‡·éŸ©å›½
         - ğŸ‡ºğŸ‡¸ç¾å›½
         - ğŸ“å…¶ä»–
      - name: â™»ï¸URL-TEST
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
        lazy: true
        tolerance: 0
      - name: âš–FALL-BACK
        type: fallback
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ“¹YouTube
        type: select
        proxies:
         - â™»ï¸URL-TEST
         - âš–FALL-BACK
         - ğŸš€SELECT
         - DIRECT
         - ğŸ‡­ğŸ‡°é¦™æ¸¯
         - ğŸ‡¨ğŸ‡³å°æ¹¾
         - ğŸ‡¯ğŸ‡µæ—¥æœ¬
         - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
         - ğŸ‡°ğŸ‡·éŸ©å›½
         - ğŸ‡ºğŸ‡¸ç¾å›½
         - ğŸ“å…¶ä»–
      - name: ğŸ“½Netflix
        type: select
        proxies:
         - â™»ï¸URL-TEST
         - âš–FALL-BACK
         - ğŸš€SELECT
         - DIRECT
         - ğŸ‡­ğŸ‡°é¦™æ¸¯
         - ğŸ‡¨ğŸ‡³å°æ¹¾
         - ğŸ‡¯ğŸ‡µæ—¥æœ¬
         - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
         - ğŸ‡°ğŸ‡·éŸ©å›½
         - ğŸ‡ºğŸ‡¸ç¾å›½
         - ğŸ“å…¶ä»–
      - name: ğŸ¤–OpenAI
        type: select
        proxies:
         - â™»ï¸URL-TEST
         - âš–FALL-BACK
         - ğŸš€SELECT
         - DIRECT
         - ğŸ‡­ğŸ‡°é¦™æ¸¯
         - ğŸ‡¨ğŸ‡³å°æ¹¾
         - ğŸ‡¯ğŸ‡µæ—¥æœ¬
         - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
         - ğŸ‡°ğŸ‡·éŸ©å›½
         - ğŸ‡ºğŸ‡¸ç¾å›½
         - ğŸ“å…¶ä»–
      - name: ğŸ”Bing
        type: select
        proxies:
         - â™»ï¸URL-TEST
         - âš–FALL-BACK
         - ğŸš€SELECT
         - DIRECT
         - ğŸ‡­ğŸ‡°é¦™æ¸¯
         - ğŸ‡¨ğŸ‡³å°æ¹¾
         - ğŸ‡¯ğŸ‡µæ—¥æœ¬
         - ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
         - ğŸ‡°ğŸ‡·éŸ©å›½
         - ğŸ‡ºğŸ‡¸ç¾å›½
         - ğŸ“å…¶ä»–
      - name: ğŸ‡­ğŸ‡°é¦™æ¸¯
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ‡¨ğŸ‡³å°æ¹¾
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ‡¯ğŸ‡µæ—¥æœ¬
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ‡°ğŸ‡·éŸ©å›½
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ‡ºğŸ‡¸ç¾å›½
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      - name: ğŸ“å…¶ä»–
        type: url-test
        url: http://www.gstatic.com/generate_204
        interval: 600
      commands:
        - mixed-port=7890
        - proxy-groups.(â™»ï¸URL-TEST).proxies=[]proxyNames
        - proxy-groups.(âš–FALL-BACK).proxies=[]proxyNames
        - proxy-groups.ğŸ‡­ğŸ‡°é¦™æ¸¯.proxies=[]proxyNames|æ¸¯|é¦™æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong Kong
        - proxy-groups.ğŸ‡¨ğŸ‡³å°æ¹¾.proxies=[]proxyNames|å°|å°æ¹¾|æ–°åŒ—|å½°åŒ–|TW|Taiwan
        - proxy-groups.ğŸ‡¯ğŸ‡µæ—¥æœ¬.proxies=[]proxyNames|æ—¥|æ—¥æœ¬|ğŸ‡¯ğŸ‡µ|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan
        - proxy-groups.ğŸ‡°ğŸ‡·éŸ©å›½.proxies=[]proxyNames|éŸ©|éŸ“|éŸ©å›½|ğŸ‡°ğŸ‡·|KR|Korea|KOR|é¦–å°”
        - proxy-groups.ğŸ‡¸ğŸ‡¬æ–°åŠ å¡.proxies=[]proxyNames|æ–°åŠ å¡|ğŸ‡¸ğŸ‡¬|å¡|ç‹®åŸ|SG|Singapore
        - proxy-groups.ğŸ‡ºğŸ‡¸ç¾å›½.proxies=[]proxyNames|ç¾|ç¾å›½|ğŸ‡ºğŸ‡¸|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States
        - proxy-groups.ğŸ“å…¶ä»–.proxies=[]proxyNames|^[^é¦™æ—¥å°æ–°éŸ©ç¾]*$
        - proxy-groups.ğŸ‡­ğŸ‡°é¦™æ¸¯.proxies.0+REJECT
        - proxy-groups.ğŸ‡¨ğŸ‡³å°æ¹¾.proxies.0+REJECT
        - proxy-groups.ğŸ‡¯ğŸ‡µæ—¥æœ¬.proxies.0+REJECT
        - proxy-groups.ğŸ‡°ğŸ‡·éŸ©å›½.proxies.0+REJECT
        - proxy-groups.ğŸ‡¸ğŸ‡¬æ–°åŠ å¡.proxies.0+REJECT
        - proxy-groups.ğŸ‡ºğŸ‡¸ç¾å›½.proxies.0+REJECT
        - proxy-groups.ğŸ“å…¶ä»–.proxies.0+REJECT
      prepend-rules:
        - RULE-SET,antiad,REJECT
        - RULE-SET,youtube,ğŸ“¹YouTube
        - RULE-SET,netflix,ğŸ“½Netflix
        - RULE-SET,openai,ğŸ¤–OpenAI
        - RULE-SET,bing,ğŸ”Bing
        - RULE-SET,global,ğŸš€SELECT
        - GEOIP,CN,DIRECT
        - MATCH,ğŸš€SELECT
      mix-rule-providers: 
        antiad:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/deezertidal/private@main/rule/AntiAD.rule"
          path: ./ruleset/AntiAD.rule
          interval: 21600
        global:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/deezertidal/private@main/rule/Global.rule"
          path: ./ruleset/Global.rule
          interval: 21600
        netflix:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@release/rule/Clash/Netflix/Netflix.yaml"
          path: ./ruleset/netflix.yaml
          interval: 21600
        bing:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@release/rule/Clash/Bing/Bing.yaml"
          path: ./ruleset/bing.yaml
          interval: 21600
        openai:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@release/rule/Clash/OpenAI/OpenAI.yaml"
          path: ./ruleset/openai.yaml
          interval: 21600    
        youtube:
          type: http
          behavior: classical
          url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@release/rule/Clash/YouTube/YouTube.yaml"
          path: ./ruleset/youtube.yaml
          interval: 21600